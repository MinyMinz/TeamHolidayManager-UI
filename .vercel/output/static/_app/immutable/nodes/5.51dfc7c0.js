import{s as Be,p as we,C as ke,u as be,v as ve,G as Ne,f as k,a as L,g as C,h as I,w as F,c as R,d as c,j as v,i as E,y,x as oe,r as ne,l as W,m as X,n as Z,H as le,I as Ae,J as me,L as Te,K as st,e as se,o as rt}from"../chunks/scheduler.fd84be43.js";import{S as Se,i as Le,f as Ce,b as ae,d as re,m as ie,a as J,t as G,e as ue,c as he,g as pe}from"../chunks/index.681d7507.js";import{G as xe,e as te,u as it,g as ut,o as ft}from"../chunks/globalModal.36f546f4.js";import{c as ye,g as at,d as Ee,e as Me,a as ct,I as Pe}from"../chunks/navigation.7f03ff5f.js";import{P as _e}from"../chunks/public.7ee89064.js";function De(a,e,t){const l=a.slice();return l[16]=e[t],l}function Ue(a,e,t){const l=a.slice();return l[19]=e[t],l}function mt(a){let e,t="Team Name:",l,o,s,n="*Choose Team",r,u,w="Role Name:",A,f,g,T="*Choose Role",S,b,_=te(a[3]),p=[];for(let i=0;i<_.length;i+=1)p[i]=je(Ue(a,_,i));let x=te(a[4]),d=[];for(let i=0;i<x.length;i+=1)d[i]=He(De(a,x,i));return{c(){e=k("label"),e.textContent=t,l=L(),o=k("select"),s=k("option"),s.textContent=n;for(let i=0;i<p.length;i+=1)p[i].c();r=L(),u=k("label"),u.textContent=w,A=L(),f=k("select"),g=k("option"),g.textContent=T;for(let i=0;i<d.length;i+=1)d[i].c();this.h()},l(i){e=C(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(e)!=="svelte-14tmdk9"&&(e.textContent=t),l=R(i),o=C(i,"SELECT",{class:!0});var h=I(o);s=C(h,"OPTION",{"data-svelte-h":!0}),F(s)!=="svelte-10ld94m"&&(s.textContent=n);for(let B=0;B<p.length;B+=1)p[B].l(h);h.forEach(c),r=R(i),u=C(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1jv6kuz"&&(u.textContent=w),A=R(i),f=C(i,"SELECT",{class:!0});var m=I(f);g=C(m,"OPTION",{"data-svelte-h":!0}),F(g)!=="svelte-ojt9dd"&&(g.textContent=T);for(let B=0;B<d.length;B+=1)d[B].l(m);m.forEach(c),this.h()},h(){v(e,"for","teamName"),v(e,"class","block text-sm font-medium text-gray-900 dark:text-white"),s.selected=!0,s.__value="",le(s,s.__value),v(o,"class","selectorDropdown"),a[5]===void 0&&Ae(()=>a[8].call(o)),v(u,"for","roleName"),v(u,"class","block text-sm font-medium text-gray-900 dark:text-white"),g.selected=!0,g.__value="",le(g,g.__value),v(f,"class","selectorDropdown"),a[6]===void 0&&Ae(()=>a[9].call(f))},m(i,h){E(i,e,h),E(i,l,h),E(i,o,h),y(o,s);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(o,null);me(o,a[5],!0),E(i,r,h),E(i,u,h),E(i,A,h),E(i,f,h),y(f,g);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(f,null);me(f,a[6],!0),S||(b=[oe(o,"change",a[8]),oe(f,"change",a[9])],S=!0)},p(i,h){if(h&8){_=te(i[3]);let m;for(m=0;m<_.length;m+=1){const B=Ue(i,_,m);p[m]?p[m].p(B,h):(p[m]=je(B),p[m].c(),p[m].m(o,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=_.length}if(h&40&&me(o,i[5]),h&16){x=te(i[4]);let m;for(m=0;m<x.length;m+=1){const B=De(i,x,m);d[m]?d[m].p(B,h):(d[m]=He(B),d[m].c(),d[m].m(f,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=x.length}h&80&&me(f,i[6])},d(i){i&&(c(e),c(l),c(o),c(r),c(u),c(A),c(f)),Te(p,i),Te(d,i),S=!1,st(b)}}}function _t(a){let e,t="*Team Name:",l,o,s,n,r,u,w,A="*Role Name:",f,g,T,S;return{c(){e=k("label"),e.textContent=t,l=k("br"),o=L(),s=k("input"),r=k("br"),u=L(),w=k("label"),w.textContent=A,f=k("br"),g=L(),T=k("input"),S=k("br"),this.h()},l(b){e=C(b,"LABEL",{for:!0,"data-svelte-h":!0}),F(e)!=="svelte-1vpznso"&&(e.textContent=t),l=C(b,"BR",{}),o=R(b),s=C(b,"INPUT",{class:!0,type:!0,id:!0,name:!0}),r=C(b,"BR",{}),u=R(b),w=C(b,"LABEL",{for:!0,"data-svelte-h":!0}),F(w)!=="svelte-aoytbm"&&(w.textContent=A),f=C(b,"BR",{}),g=R(b),T=C(b,"INPUT",{class:!0,type:!0,id:!0,name:!0}),S=C(b,"BR",{}),this.h()},h(){v(e,"for","teamName"),v(s,"class","form-input"),v(s,"type","text"),v(s,"id","team_name"),v(s,"name","teamName"),s.value=n=a[1].team_name,s.disabled=!0,v(w,"for","roleName"),v(T,"class","form-input"),v(T,"type","text"),v(T,"id","role_name"),v(T,"name","roleName"),T.value="User",T.disabled=!0},m(b,_){E(b,e,_),E(b,l,_),E(b,o,_),E(b,s,_),E(b,r,_),E(b,u,_),E(b,w,_),E(b,f,_),E(b,g,_),E(b,T,_),E(b,S,_)},p(b,_){_&2&&n!==(n=b[1].team_name)&&s.value!==n&&(s.value=n)},d(b){b&&(c(e),c(l),c(o),c(s),c(r),c(u),c(w),c(f),c(g),c(T),c(S))}}}function $e(a){let e,t=a[19].name+"",l,o;return{c(){e=k("option"),l=W(t),this.h()},l(s){e=C(s,"OPTION",{});var n=I(e);l=X(n,t),n.forEach(c),this.h()},h(){e.__value=o=a[19].name,le(e,e.__value)},m(s,n){E(s,e,n),y(e,l)},p(s,n){n&8&&t!==(t=s[19].name+"")&&Z(l,t),n&8&&o!==(o=s[19].name)&&(e.__value=o,le(e,e.__value))},d(s){s&&c(e)}}}function je(a){let e,t=a[3].name!=="Super"&&$e(a);return{c(){t&&t.c(),e=se()},l(l){t&&t.l(l),e=se()},m(l,o){t&&t.m(l,o),E(l,e,o)},p(l,o){l[3].name!=="Super"?t?t.p(l,o):(t=$e(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Ie(a){let e,t=a[16].name+"",l,o;return{c(){e=k("option"),l=W(t),this.h()},l(s){e=C(s,"OPTION",{});var n=I(e);l=X(n,t),n.forEach(c),this.h()},h(){e.__value=o=a[16].name,le(e,e.__value)},m(s,n){E(s,e,n),y(e,l)},p(s,n){n&16&&t!==(t=s[16].name+"")&&Z(l,t),n&16&&o!==(o=s[16].name)&&(e.__value=o,le(e,e.__value))},d(s){s&&c(e)}}}function He(a){let e,t=a[16].name!=="SuperAdmin"&&Ie(a);return{c(){t&&t.c(),e=se()},l(l){t&&t.l(l),e=se()},m(l,o){t&&t.m(l,o),E(l,e,o)},p(l,o){l[16].name!=="SuperAdmin"?t?t.p(l,o):(t=Ie(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Ye(a){let e,t,l,o;return{c(){e=k("br"),t=L(),l=k("p"),o=W(a[2]),this.h()},l(s){e=C(s,"BR",{}),t=R(s),l=C(s,"P",{class:!0});var n=I(l);o=X(n,a[2]),n.forEach(c),this.h()},h(){v(l,"class","text-red-500 font-bold text-center")},m(s,n){E(s,e,n),E(s,t,n),E(s,l,n),y(l,o)},p(s,n){n&4&&Z(o,s[2])},d(s){s&&(c(e),c(t),c(l))}}}function dt(a){let e,t,l="*Full Name:",o,s,n,r,u,w,A="*Email:",f,g,T,S,b,_,p="*Password:",x,d,i,h,m,B,U,j,H,N,O,K="Create",q,Q;function fe(P,M){var z,Y,D;if(((z=P[1])==null?void 0:z.role_name)==="User"||((Y=P[1])==null?void 0:Y.role_name)==="Admin")return _t;if(((D=P[1])==null?void 0:D.role_name)==="SuperAdmin")return mt}let ee=fe(a),$=ee&&ee(a),V=a[2]&&Ye(a);return{c(){e=k("form"),t=k("label"),t.textContent=l,o=k("br"),s=L(),n=k("input"),r=k("br"),u=L(),w=k("label"),w.textContent=A,f=k("br"),g=L(),T=k("input"),S=k("br"),b=L(),_=k("label"),_.textContent=p,x=k("br"),d=L(),i=k("input"),h=k("br"),m=L(),$&&$.c(),B=L(),V&&V.c(),U=L(),j=k("br"),H=L(),N=k("div"),O=k("button"),O.textContent=K,this.h()},l(P){e=C(P,"FORM",{class:!0});var M=I(e);t=C(M,"LABEL",{for:!0,"data-svelte-h":!0}),F(t)!=="svelte-1rf5pq8"&&(t.textContent=l),o=C(M,"BR",{}),s=R(M),n=C(M,"INPUT",{class:!0,type:!0,id:!0,name:!0}),r=C(M,"BR",{}),u=R(M),w=C(M,"LABEL",{for:!0,"data-svelte-h":!0}),F(w)!=="svelte-10zdh5m"&&(w.textContent=A),f=C(M,"BR",{}),g=R(M),T=C(M,"INPUT",{class:!0,type:!0,id:!0,name:!0}),S=C(M,"BR",{}),b=R(M),_=C(M,"LABEL",{for:!0,"data-svelte-h":!0}),F(_)!=="svelte-1e6zq3o"&&(_.textContent=p),x=C(M,"BR",{}),d=R(M),i=C(M,"INPUT",{class:!0,type:!0,id:!0,name:!0}),h=C(M,"BR",{}),m=R(M),$&&$.l(M),B=R(M),V&&V.l(M),M.forEach(c),U=R(P),j=C(P,"BR",{}),H=R(P),N=C(P,"DIV",{class:!0});var z=I(N);O=C(z,"BUTTON",{class:!0,"data-svelte-h":!0}),F(O)!=="svelte-ohk5sb"&&(O.textContent=K),z.forEach(c),this.h()},h(){v(t,"for","fullname"),v(n,"class","form-input"),v(n,"type","text"),v(n,"id","full_name"),v(n,"name","fullname"),v(w,"for","email"),v(T,"class","form-input"),v(T,"type","email"),v(T,"id","email"),v(T,"name","email"),v(_,"for","password"),v(i,"class","form-input"),v(i,"type","text"),v(i,"id","password"),v(i,"name","password"),v(e,"class","text-black dark:text-white"),v(O,"class","createOrUpdateSubmitButton"),v(N,"class","flex flex-col")},m(P,M){E(P,e,M),y(e,t),y(e,o),y(e,s),y(e,n),y(e,r),y(e,u),y(e,w),y(e,f),y(e,g),y(e,T),y(e,S),y(e,b),y(e,_),y(e,x),y(e,d),y(e,i),y(e,h),y(e,m),$&&$.m(e,null),y(e,B),V&&V.m(e,null),E(P,U,M),E(P,j,M),E(P,H,M),E(P,N,M),y(N,O),q||(Q=oe(O,"click",a[10]),q=!0)},p(P,M){ee===(ee=fe(P))&&$?$.p(P,M):($&&$.d(1),$=ee&&ee(P),$&&($.c(),$.m(e,B))),P[2]?V?V.p(P,M):(V=Ye(P),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},d(P){P&&(c(e),c(U),c(j),c(H),c(N)),$&&$.d(),V&&V.d(),q=!1,Q()}}}function ht(a){let e,t="Creating New User";return{c(){e=k("h1"),e.textContent=t,this.h()},l(l){e=C(l,"H1",{class:!0,slot:!0,"data-svelte-h":!0}),F(e)!=="svelte-1gmfiuv"&&(e.textContent=t),this.h()},h(){v(e,"class","text-black dark:text-white"),v(e,"slot","header")},m(l,o){E(l,e,o)},p:ne,d(l){l&&c(e)}}}function pt(a){let e,t,l;function o(n){a[11](n)}let s={$$slots:{header:[ht],default:[dt]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.showModal=a[0]),e=new xe({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,[r]){const u={};r&4194430&&(u.$$scope={dirty:r,ctx:n}),!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function bt(a,e,t){let l;be(a,ye,d=>t(12,l=d));const o={};if(typeof sessionStorage<"u"){const d=sessionStorage.getItem("userLoggedIn");if(d!==null)for(const[i,h]of Object.entries(JSON.parse(d)))o[i]=h}let{showModal:s=!1}=e,n="",r=[],u=[],w="",A="";o?(o.role_name==="SuperAdmin"||o.role_name==="Admin")&&(async()=>(await f(),await g()))():at("/");async function f(){let d=`${_e}/teams`;(o==null?void 0:o.role_name)==="Admin"&&(d+=`?team_name=${o.team_name}`);const h=await(await window.fetch(d)).json();t(3,r=h)}async function g(){let d=`${_e}/roles`;(o==null?void 0:o.role_name)==="Admin"&&(d+="?role_name=User");const h=await(await window.fetch(d)).json();t(4,u=h)}async function T(){try{let d=document.querySelectorAll(".form-input"),i={};if(i.id=null,d.forEach(m=>{i[m.id]=m.value}),S(i.role_name,i.team_name),(o==null?void 0:o.role_name)==="SuperAdmin")if(w===""||A===""){t(2,n="Please select a team and role!");return}else i.team_name=w,i.role_name=A;const h=await window.fetch(`${_e}/users`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});if(h.ok)t(0,s=!1),ve(ye,l=!1,l),t(2,n="");else throw h.status===422?t(2,n="Please fill in all fields correctly!"):t(2,n=`Status: ${h.status} `),new Error(n)}catch(d){throw console.error(d),d}}function S(d,i){if((o==null?void 0:o.role_name)=="User"){t(2,n="You do not have permission to create users.");return}else if((o==null?void 0:o.role_name)=="Admin"){if(d!=="User"){t(2,n="You do not have permission to create Admins or SuperAdmins.");return}else if(i!==(o==null?void 0:o.team_name)){t(2,n="You do not have permission to create users in other teams.");return}}else if((o==null?void 0:o.role_name)=="SuperAdmin"&&d==="SuperAdmin"){t(2,n="You cannot create more superAdmins");return}}function b(){w=Ne(this),t(5,w),t(3,r)}function _(){A=Ne(this),t(6,A),t(4,u)}const p=()=>T();function x(d){s=d,t(0,s)}return a.$$set=d=>{"showModal"in d&&t(0,s=d.showModal)},[s,o,n,r,u,w,A,T,b,_,p,x]}class vt extends Se{constructor(e){super(),Le(this,e,bt,pt,Be,{showModal:0})}}function qe(a){let e,t;return{c(){e=k("p"),t=W(a[2]),this.h()},l(l){e=C(l,"P",{class:!0});var o=I(e);t=X(o,a[2]),o.forEach(c),this.h()},h(){v(e,"class","font-bold text-red-600 dark:text-red-400 text-center")},m(l,o){E(l,e,o),y(e,t)},p(l,o){o&4&&Z(t,l[2])},d(l){l&&c(e)}}}function wt(a){let e,t,l,o="Delete User",s,n,r=a[2]&&qe(a);return{c(){r&&r.c(),e=L(),t=k("div"),l=k("button"),l.textContent=o,this.h()},l(u){r&&r.l(u),e=R(u),t=C(u,"DIV",{class:!0});var w=I(t);l=C(w,"BUTTON",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1lrqiqm"&&(l.textContent=o),w.forEach(c),this.h()},h(){v(l,"class","text-white bg-red-600 hover:bg-red-800 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"),v(t,"class","flex flex-col mt-2")},m(u,w){r&&r.m(u,w),E(u,e,w),E(u,t,w),y(t,l),s||(n=oe(l,"click",a[4]),s=!0)},p(u,w){u[2]?r?r.p(u,w):(r=qe(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(u){u&&(c(e),c(t)),r&&r.d(u),s=!1,n()}}}function kt(a){let e,t,l=a[1].full_name+"",o,s;return{c(){e=k("h2"),t=W("Please confirm you wish to delete "),o=W(l),s=W("'s account from the system."),this.h()},l(n){e=C(n,"H2",{class:!0,slot:!0});var r=I(e);t=X(r,"Please confirm you wish to delete "),o=X(r,l),s=X(r,"'s account from the system."),r.forEach(c),this.h()},h(){v(e,"class","text-black dark:text-white"),v(e,"slot","header")},m(n,r){E(n,e,r),y(e,t),y(e,o),y(e,s)},p(n,r){r&2&&l!==(l=n[1].full_name+"")&&Z(o,l)},d(n){n&&c(e)}}}function Ct(a){let e,t,l;function o(n){a[5](n)}let s={$$slots:{header:[kt],default:[wt]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.showModal=a[0]),e=new xe({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,[r]){const u={};r&262&&(u.$$scope={dirty:r,ctx:n}),!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function gt(a,e,t){let l;be(a,Ee,f=>t(7,l=f));let{showModal:o=!1}=e,{user:s}=e,n="";const r={};if(typeof sessionStorage<"u"){const f=sessionStorage.getItem("userLoggedIn");if(f!==null)for(const[g,T]of Object.entries(JSON.parse(f)))r[g]=T}async function u(){if(r.role_name==="User"){t(2,n="You do not have permission to delete users.");return}else if(r.role==="Admin"&&s.role_name==="Admin"){t(2,n="You cannot delete Admins.");return}else if(r.role==="SuperAdmin"&&s.role_name==="SuperAdmin"){t(2,n="You cannot delete SuperAdmin.");return}try{const f=await fetch(`${_e}/users?user_id=`+s.id,{method:"DELETE"});if(f.ok)t(0,o=!1),ve(Ee,l=!1,l);else throw t(2,n=`Status: ${f.status} Detail: ${f.statusText}`),new Error(`Failed to send data. Status: ${f.status}`)}catch(f){throw console.error(f),f}}const w=()=>u();function A(f){o=f,t(0,o)}return a.$$set=f=>{"showModal"in f&&t(0,o=f.showModal),"user"in f&&t(1,s=f.user)},[o,s,n,u,w,A]}class yt extends Se{constructor(e){super(),Le(this,e,gt,Ct,Be,{showModal:0,user:1})}}function ze(a,e,t){const l=a.slice();return l[16]=e[t],l}function Fe(a,e,t){const l=a.slice();return l[19]=e[t],l}function Et(a){let e,t="Team Name:",l,o,s,n="*Choose Team",r,u,w="Role Name:",A,f,g,T="*Choose Role",S,b,_=te(a[4]),p=[];for(let i=0;i<_.length;i+=1)p[i]=Ve(Fe(a,_,i));let x=te(a[5]),d=[];for(let i=0;i<x.length;i+=1)d[i]=Ke(ze(a,x,i));return{c(){e=k("label"),e.textContent=t,l=L(),o=k("select"),s=k("option"),s.textContent=n;for(let i=0;i<p.length;i+=1)p[i].c();r=L(),u=k("label"),u.textContent=w,A=L(),f=k("select"),g=k("option"),g.textContent=T;for(let i=0;i<d.length;i+=1)d[i].c();this.h()},l(i){e=C(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(e)!=="svelte-14tmdk9"&&(e.textContent=t),l=R(i),o=C(i,"SELECT",{class:!0});var h=I(o);s=C(h,"OPTION",{"data-svelte-h":!0}),F(s)!=="svelte-10ld94m"&&(s.textContent=n);for(let B=0;B<p.length;B+=1)p[B].l(h);h.forEach(c),r=R(i),u=C(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1jv6kuz"&&(u.textContent=w),A=R(i),f=C(i,"SELECT",{class:!0});var m=I(f);g=C(m,"OPTION",{"data-svelte-h":!0}),F(g)!=="svelte-ojt9dd"&&(g.textContent=T);for(let B=0;B<d.length;B+=1)d[B].l(m);m.forEach(c),this.h()},h(){v(e,"for","teamName"),v(e,"class","block text-sm font-medium text-gray-900 dark:text-white"),s.selected=!0,s.__value="",le(s,s.__value),v(o,"class","selectorDropdown"),a[6]===void 0&&Ae(()=>a[9].call(o)),v(u,"for","roleName"),v(u,"class","block text-sm font-medium text-gray-900 dark:text-white"),g.selected=!0,g.__value="",le(g,g.__value),v(f,"class","selectorDropdown"),a[7]===void 0&&Ae(()=>a[10].call(f))},m(i,h){E(i,e,h),E(i,l,h),E(i,o,h),y(o,s);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(o,null);me(o,a[6],!0),E(i,r,h),E(i,u,h),E(i,A,h),E(i,f,h),y(f,g);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(f,null);me(f,a[7],!0),S||(b=[oe(o,"change",a[9]),oe(f,"change",a[10])],S=!0)},p(i,h){if(h&16){_=te(i[4]);let m;for(m=0;m<_.length;m+=1){const B=Fe(i,_,m);p[m]?p[m].p(B,h):(p[m]=Ve(B),p[m].c(),p[m].m(o,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=_.length}if(h&80&&me(o,i[6]),h&32){x=te(i[5]);let m;for(m=0;m<x.length;m+=1){const B=ze(i,x,m);d[m]?d[m].p(B,h):(d[m]=Ke(B),d[m].c(),d[m].m(f,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=x.length}h&160&&me(f,i[7])},d(i){i&&(c(e),c(l),c(o),c(r),c(u),c(A),c(f)),Te(p,i),Te(d,i),S=!1,st(b)}}}function Mt(a){let e,t="*Team Name:",l,o,s,n,r,u,w,A="*Role Name:",f,g,T,S,b;return{c(){e=k("label"),e.textContent=t,l=k("br"),o=L(),s=k("input"),r=k("br"),u=L(),w=k("label"),w.textContent=A,f=k("br"),g=L(),T=k("input"),b=k("br"),this.h()},l(_){e=C(_,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(e)!=="svelte-obofin"&&(e.textContent=t),l=C(_,"BR",{}),o=R(_),s=C(_,"INPUT",{class:!0,type:!0,id:!0,name:!0}),r=C(_,"BR",{}),u=R(_),w=C(_,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),F(w)!=="svelte-29cpyx"&&(w.textContent=A),f=C(_,"BR",{}),g=R(_),T=C(_,"INPUT",{class:!0,type:!0,id:!0,name:!0}),b=C(_,"BR",{}),this.h()},h(){var _,p;v(e,"class","text-gray-600"),v(e,"for","teamName"),v(s,"class","disabled-form-input"),v(s,"type","text"),v(s,"id","team_name"),v(s,"name","teamName"),s.value=n=(_=a[1])==null?void 0:_.team_name,s.disabled=!0,v(w,"class","text-gray-600"),v(w,"for","roleName"),v(T,"class","disabled-form-input"),v(T,"type","text"),v(T,"id","role_name"),v(T,"name","roleName"),T.value=S=(p=a[1])==null?void 0:p.role_name,T.disabled=!0},m(_,p){E(_,e,p),E(_,l,p),E(_,o,p),E(_,s,p),E(_,r,p),E(_,u,p),E(_,w,p),E(_,f,p),E(_,g,p),E(_,T,p),E(_,b,p)},p(_,p){var x,d;p&2&&n!==(n=(x=_[1])==null?void 0:x.team_name)&&s.value!==n&&(s.value=n),p&2&&S!==(S=(d=_[1])==null?void 0:d.role_name)&&T.value!==S&&(T.value=S)},d(_){_&&(c(e),c(l),c(o),c(s),c(r),c(u),c(w),c(f),c(g),c(T),c(b))}}}function Je(a){let e,t=a[19].name+"",l,o;return{c(){e=k("option"),l=W(t),this.h()},l(s){e=C(s,"OPTION",{});var n=I(e);l=X(n,t),n.forEach(c),this.h()},h(){e.__value=o=a[19].name,le(e,e.__value)},m(s,n){E(s,e,n),y(e,l)},p(s,n){n&16&&t!==(t=s[19].name+"")&&Z(l,t),n&16&&o!==(o=s[19].name)&&(e.__value=o,le(e,e.__value))},d(s){s&&c(e)}}}function Ve(a){let e,t=a[4].name!=="Super"&&Je(a);return{c(){t&&t.c(),e=se()},l(l){t&&t.l(l),e=se()},m(l,o){t&&t.m(l,o),E(l,e,o)},p(l,o){l[4].name!=="Super"?t?t.p(l,o):(t=Je(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Ge(a){let e,t=a[16].name+"",l,o;return{c(){e=k("option"),l=W(t),this.h()},l(s){e=C(s,"OPTION",{});var n=I(e);l=X(n,t),n.forEach(c),this.h()},h(){e.__value=o=a[16].name,le(e,e.__value)},m(s,n){E(s,e,n),y(e,l)},p(s,n){n&32&&t!==(t=s[16].name+"")&&Z(l,t),n&32&&o!==(o=s[16].name)&&(e.__value=o,le(e,e.__value))},d(s){s&&c(e)}}}function Ke(a){let e,t=a[16].name!=="SuperAdmin"&&Ge(a);return{c(){t&&t.c(),e=se()},l(l){t&&t.l(l),e=se()},m(l,o){t&&t.m(l,o),E(l,e,o)},p(l,o){l[16].name!=="SuperAdmin"?t?t.p(l,o):(t=Ge(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&c(e),t&&t.d(l)}}}function Qe(a){let e,t,l,o;return{c(){e=k("br"),t=L(),l=k("p"),o=W(a[2]),this.h()},l(s){e=C(s,"BR",{}),t=R(s),l=C(s,"P",{class:!0});var n=I(l);o=X(n,a[2]),n.forEach(c),this.h()},h(){v(l,"class","text-red-500 font-bold text-center")},m(s,n){E(s,e,n),E(s,t,n),E(s,l,n),y(l,o)},p(s,n){n&4&&Z(o,s[2])},d(s){s&&(c(e),c(t),c(l))}}}function Tt(a){let e,t,l="*Full Name:",o,s,n,r,u,w,A,f="*Email:",g,T,S,b,_,p,x,d="*Password:",i,h,m,B,U,j,H,N,O,K,q,Q,fe="Update",ee,$;function V(Y,D){var ce,ge,de;if(((ce=Y[3])==null?void 0:ce.role_name)==="User"||((ge=Y[3])==null?void 0:ge.role_name)==="Admin")return Mt;if(((de=Y[3])==null?void 0:de.role_name)==="SuperAdmin")return Et}let P=V(a),M=P&&P(a),z=a[2]&&Qe(a);return{c(){e=k("form"),t=k("label"),t.textContent=l,o=k("br"),s=L(),n=k("input"),u=k("br"),w=L(),A=k("label"),A.textContent=f,g=k("br"),T=L(),S=k("input"),_=k("br"),p=L(),x=k("label"),x.textContent=d,i=k("br"),h=L(),m=k("input"),U=k("br"),j=L(),M&&M.c(),H=L(),z&&z.c(),N=L(),O=k("br"),K=L(),q=k("div"),Q=k("button"),Q.textContent=fe,this.h()},l(Y){e=C(Y,"FORM",{class:!0});var D=I(e);t=C(D,"LABEL",{for:!0,"data-svelte-h":!0}),F(t)!=="svelte-1rf5pq8"&&(t.textContent=l),o=C(D,"BR",{}),s=R(D),n=C(D,"INPUT",{class:!0,type:!0,id:!0,name:!0}),u=C(D,"BR",{}),w=R(D),A=C(D,"LABEL",{for:!0,"data-svelte-h":!0}),F(A)!=="svelte-10zdh5m"&&(A.textContent=f),g=C(D,"BR",{}),T=R(D),S=C(D,"INPUT",{class:!0,type:!0,id:!0,name:!0}),_=C(D,"BR",{}),p=R(D),x=C(D,"LABEL",{for:!0,"data-svelte-h":!0}),F(x)!=="svelte-1e6zq3o"&&(x.textContent=d),i=C(D,"BR",{}),h=R(D),m=C(D,"INPUT",{class:!0,type:!0,id:!0,name:!0}),U=C(D,"BR",{}),j=R(D),M&&M.l(D),H=R(D),z&&z.l(D),D.forEach(c),N=R(Y),O=C(Y,"BR",{}),K=R(Y),q=C(Y,"DIV",{class:!0});var ce=I(q);Q=C(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),F(Q)!=="svelte-usm7gp"&&(Q.textContent=fe),ce.forEach(c),this.h()},h(){v(t,"for","fullname"),v(n,"class","form-input"),v(n,"type","text"),v(n,"id","full_name"),v(n,"name","fullname"),n.value=r=a[1].full_name,v(A,"for","email"),v(S,"class","form-input"),v(S,"type","email"),v(S,"id","email"),v(S,"name","email"),S.value=b=a[1].email,v(x,"for","password"),v(m,"class","form-input"),v(m,"type","text"),v(m,"id","password"),v(m,"name","password"),m.value=B=a[1].password,v(e,"class","text-black dark:text-white"),v(Q,"class","createOrUpdateSubmitButton"),v(q,"class","flex flex-col")},m(Y,D){E(Y,e,D),y(e,t),y(e,o),y(e,s),y(e,n),y(e,u),y(e,w),y(e,A),y(e,g),y(e,T),y(e,S),y(e,_),y(e,p),y(e,x),y(e,i),y(e,h),y(e,m),y(e,U),y(e,j),M&&M.m(e,null),y(e,H),z&&z.m(e,null),E(Y,N,D),E(Y,O,D),E(Y,K,D),E(Y,q,D),y(q,Q),ee||($=oe(Q,"click",a[11]),ee=!0)},p(Y,D){D&2&&r!==(r=Y[1].full_name)&&n.value!==r&&(n.value=r),D&2&&b!==(b=Y[1].email)&&S.value!==b&&(S.value=b),D&2&&B!==(B=Y[1].password)&&m.value!==B&&(m.value=B),P===(P=V(Y))&&M?M.p(Y,D):(M&&M.d(1),M=P&&P(Y),M&&(M.c(),M.m(e,H))),Y[2]?z?z.p(Y,D):(z=Qe(Y),z.c(),z.m(e,null)):z&&(z.d(1),z=null)},d(Y){Y&&(c(e),c(N),c(O),c(K),c(q)),M&&M.d(),z&&z.d(),ee=!1,$()}}}function Nt(a){let e,t="Updating Existing User";return{c(){e=k("h2"),e.textContent=t,this.h()},l(l){e=C(l,"H2",{class:!0,slot:!0,"data-svelte-h":!0}),F(e)!=="svelte-1gkyhyj"&&(e.textContent=t),this.h()},h(){v(e,"class","text-black dark:text-white"),v(e,"slot","header")},m(l,o){E(l,e,o)},p:ne,d(l){l&&c(e)}}}function At(a){let e,t,l;function o(n){a[12](n)}let s={$$slots:{header:[Nt],default:[Tt]},$$scope:{ctx:a}};return a[0]!==void 0&&(s.showModal=a[0]),e=new xe({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,[r]){const u={};r&4194558&&(u.$$scope={dirty:r,ctx:n}),!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function Bt(a,e,t){let l;be(a,Me,d=>t(13,l=d));let{showModal:o=!1}=e,{userData:s}=e,n="";const r={};if(typeof sessionStorage<"u"){const d=sessionStorage.getItem("userLoggedIn");if(d!==null)for(const[i,h]of Object.entries(JSON.parse(d)))r[i]=h}let u=[],w=[],A=s.team_name,f=s.role_name;(r.role_name==="SuperAdmin"||r.role_name==="Admin")&&(async()=>(await g(),await T()))();async function g(){let d=`${_e}/teams`;(r==null?void 0:r.role_name)==="Admin"&&(d+=`?team_name=${r.team_name}`);const h=await(await window.fetch(d)).json();t(4,u=h)}async function T(){let d=`${_e}/roles`;(r==null?void 0:r.role_name)==="Admin"&&(d+="?role_name=User");const h=await(await window.fetch(d)).json();t(5,w=h)}async function S(){if((r==null?void 0:r.role_name)=="User"){if(A!=(r==null?void 0:r.team_name)||f!="User"){t(2,n="You do not have permission to change your team or role.");return}else if((r==null?void 0:r.role_name)=="Admin"){if(f!=="User"){t(2,n="You do not have permission to edit Admins or SuperAdmins.");return}else if(A!==(r==null?void 0:r.team_name)){t(2,n="You do not have permission to put users in other teams.");return}}}try{let d=document.querySelectorAll(".form-input"),i={};i.id=s.id,d.forEach(m=>{i[m.id]=m.value}),i.team_name=A,i.role_name=f;const h=await window.fetch(`${_e}/users`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});if(h.ok)t(0,o=!1),ve(Me,l=!1,l),t(2,n="");else throw h.status===422?t(2,n="Please fill in all fields correctly!"):t(2,n=`Status: ${h.status} `),new Error(n);console.log(n)}catch(d){throw console.error(d),d}}function b(){A=Ne(this),t(6,A),t(4,u)}function _(){f=Ne(this),t(7,f),t(5,w)}const p=()=>S();function x(d){o=d,t(0,o)}return a.$$set=d=>{"showModal"in d&&t(0,o=d.showModal),"userData"in d&&t(1,s=d.userData)},[o,s,n,r,u,w,A,f,S,b,_,p,x]}class St extends Se{constructor(e){super(),Le(this,e,Bt,At,Be,{showModal:0,userData:1})}}const{Map:Lt}=ut;function We(a,e,t){const l=a.slice();return l[18]=e[t],l}function Xe(a,e,t){const l=a.slice();return l[21]=e[t],l}function Rt(a){let e,t="Here you can edit your accounts name, email and password.";return{c(){e=k("p"),e.textContent=t,this.h()},l(l){e=C(l,"P",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1enyvg0"&&(e.textContent=t),this.h()},h(){v(e,"class","mt-1 text-lg font-normal text-gray-500 dark:text-gray-400")},m(l,o){E(l,e,o)},p:ne,i:ne,o:ne,d(l){l&&c(e)}}}function xt(a){let e,t="Here you can create, edit or delete users.",l,o,s,n,r,u,w,A;return r=new Pe({props:{icon:"mdi:account-plus",inline:!0}}),{c(){e=k("p"),e.textContent=t,l=L(),o=k("button"),s=k("p"),n=W(`Create User\r
              `),ae(r.$$.fragment),this.h()},l(f){e=C(f,"P",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1sdiany"&&(e.textContent=t),l=R(f),o=C(f,"BUTTON",{type:!0,class:!0});var g=I(o);s=C(g,"P",{class:!0});var T=I(s);n=X(T,`Create User\r
              `),re(r.$$.fragment,T),T.forEach(c),g.forEach(c),this.h()},h(){v(e,"class","mt-1 text-lg font-normal text-gray-500 dark:text-gray-400"),v(s,"class","icons"),v(o,"type","button"),v(o,"class","createButton absolute bottom-2 right-24")},m(f,g){E(f,e,g),E(f,l,g),E(f,o,g),y(o,s),y(s,n),ie(r,s,null),u=!0,w||(A=oe(o,"click",a[11]),w=!0)},p:ne,i(f){u||(J(r.$$.fragment,f),u=!0)},o(f){G(r.$$.fragment,f),u=!1},d(f){f&&(c(e),c(l),c(o)),ue(r),w=!1,A()}}}function Pt(a){let e,t,l,o,s="Actions",n,r,u=[],w=new Lt,A,f=te(a[7]),g=[];for(let b=0;b<f.length;b+=1)g[b]=Ze(Xe(a,f,b));let T=te(a[3]);const S=b=>b[18][0];for(let b=0;b<T.length;b+=1){let _=We(a,T,b),p=S(_);w.set(p,u[b]=tt(p,_))}return{c(){e=k("thead"),t=k("tr");for(let b=0;b<g.length;b+=1)g[b].c();l=L(),o=k("th"),o.textContent=s,n=L(),r=k("tbody");for(let b=0;b<u.length;b+=1)u[b].c();this.h()},l(b){e=C(b,"THEAD",{class:!0});var _=I(e);t=C(_,"TR",{});var p=I(t);for(let d=0;d<g.length;d+=1)g[d].l(p);l=R(p),o=C(p,"TH",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-55cih7"&&(o.textContent=s),p.forEach(c),_.forEach(c),n=R(b),r=C(b,"TBODY",{class:!0});var x=I(r);for(let d=0;d<u.length;d+=1)u[d].l(x);x.forEach(c),this.h()},h(){v(o,"class","text-base w-1/6"),v(e,"class","text-center text-gray-700 uppercase bg-gray-400 dark:bg-gray-700 dark:text-white"),v(r,"class","text-center")},m(b,_){E(b,e,_),y(e,t);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(t,null);y(t,l),y(t,o),E(b,n,_),E(b,r,_);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(r,null);A=!0},p(b,_){if(_&128){f=te(b[7]);let p;for(p=0;p<f.length;p+=1){const x=Xe(b,f,p);g[p]?g[p].p(x,_):(g[p]=Ze(x),g[p].c(),g[p].m(t,l))}for(;p<g.length;p+=1)g[p].d(1);g.length=f.length}_&1290&&(T=te(b[3]),pe(),u=it(u,_,S,1,b,T,w,r,ft,tt,null,We),he())},i(b){if(!A){for(let _=0;_<T.length;_+=1)J(u[_]);A=!0}},o(b){for(let _=0;_<u.length;_+=1)G(u[_]);A=!1},d(b){b&&(c(e),c(n),c(r)),Te(g,b);for(let _=0;_<u.length;_+=1)u[_].d()}}}function Ot(a){let e,t='<h1 class="text-3xl font-semibold text-gray-900 dark:text-white">No users found</h1> <p class="mt-1 text-sm font-normal text-gray-500 dark:text-gray-400">There are no users in the database.</p>';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1ifnstg"&&(e.innerHTML=t),this.h()},h(){v(e,"class","flex flex-col items-center justify-center h-full")},m(l,o){E(l,e,o)},p:ne,i:ne,o:ne,d(l){l&&c(e)}}}function Ze(a){let e,t=a[21]+"",l;return{c(){e=k("th"),l=W(t),this.h()},l(o){e=C(o,"TH",{scope:!0,class:!0});var s=I(e);l=X(s,t),s.forEach(c),this.h()},h(){v(e,"scope","col"),v(e,"class","text-base")},m(o,s){E(o,e,s),y(e,l)},p:ne,d(o){o&&c(e)}}}function et(a){let e,t,l,o,s,n,r;o=new Pe({props:{icon:"mdi:account-remove",inline:!0}});function u(){return a[13](a[18])}return{c(){e=k("button"),t=k("p"),l=W(`Delete\r
                      `),ae(o.$$.fragment),this.h()},l(w){e=C(w,"BUTTON",{type:!0,class:!0});var A=I(e);t=C(A,"P",{class:!0});var f=I(t);l=X(f,`Delete\r
                      `),re(o.$$.fragment,f),f.forEach(c),A.forEach(c),this.h()},h(){v(t,"class","icons"),v(e,"type","button"),v(e,"class","deleteButton")},m(w,A){E(w,e,A),y(e,t),y(t,l),ie(o,t,null),s=!0,n||(r=oe(e,"click",u),n=!0)},p(w,A){a=w},i(w){s||(J(o.$$.fragment,w),s=!0)},o(w){G(o.$$.fragment,w),s=!1},d(w){w&&c(e),ue(o),n=!1,r()}}}function tt(a,e){var V;let t,l,o=e[18][1].full_name+"",s,n,r,u=e[18][1].email+"",w,A,f,g="*".repeat(e[18][1].password.length)+"",T,S,b,_=e[18][1].team_name+"",p,x,d,i=e[18][1].role_name+"",h,m,B,U,j,H,N,O,K,q,Q,fe;N=new Pe({props:{icon:"mdi:account-edit",inline:!0}});function ee(){return e[12](e[18])}let $=((V=e[1])==null?void 0:V.role_name)!=="User"&&et(e);return{key:a,first:null,c(){t=k("tr"),l=k("td"),s=W(o),n=L(),r=k("td"),w=W(u),A=L(),f=k("td"),T=W(g),S=L(),b=k("td"),p=W(_),x=L(),d=k("td"),h=W(i),m=L(),B=k("td"),U=k("button"),j=k("p"),H=W(`Edit\r
                    `),ae(N.$$.fragment),O=L(),$&&$.c(),K=L(),this.h()},l(P){t=C(P,"TR",{class:!0});var M=I(t);l=C(M,"TD",{});var z=I(l);s=X(z,o),z.forEach(c),n=R(M),r=C(M,"TD",{});var Y=I(r);w=X(Y,u),Y.forEach(c),A=R(M),f=C(M,"TD",{});var D=I(f);T=X(D,g),D.forEach(c),S=R(M),b=C(M,"TD",{});var ce=I(b);p=X(ce,_),ce.forEach(c),x=R(M),d=C(M,"TD",{});var ge=I(d);h=X(ge,i),ge.forEach(c),m=R(M),B=C(M,"TD",{});var de=I(B);U=C(de,"BUTTON",{type:!0,class:!0});var Oe=I(U);j=C(Oe,"P",{class:!0});var Re=I(j);H=X(Re,`Edit\r
                    `),re(N.$$.fragment,Re),Re.forEach(c),Oe.forEach(c),O=R(de),$&&$.l(de),de.forEach(c),K=R(M),M.forEach(c),this.h()},h(){v(j,"class","icons"),v(U,"type","button"),v(U,"class","editButton"),v(t,"class","text-lg text-black dark:text-gray-200"),this.first=t},m(P,M){E(P,t,M),y(t,l),y(l,s),y(t,n),y(t,r),y(r,w),y(t,A),y(t,f),y(f,T),y(t,S),y(t,b),y(b,p),y(t,x),y(t,d),y(d,h),y(t,m),y(t,B),y(B,U),y(U,j),y(j,H),ie(N,j,null),y(B,O),$&&$.m(B,null),y(t,K),q=!0,Q||(fe=oe(U,"click",ee),Q=!0)},p(P,M){var z;e=P,(!q||M&8)&&o!==(o=e[18][1].full_name+"")&&Z(s,o),(!q||M&8)&&u!==(u=e[18][1].email+"")&&Z(w,u),(!q||M&8)&&g!==(g="*".repeat(e[18][1].password.length)+"")&&Z(T,g),(!q||M&8)&&_!==(_=e[18][1].team_name+"")&&Z(p,_),(!q||M&8)&&i!==(i=e[18][1].role_name+"")&&Z(h,i),((z=e[1])==null?void 0:z.role_name)!=="User"?$?($.p(e,M),M&2&&J($,1)):($=et(e),$.c(),J($,1),$.m(B,null)):$&&(pe(),G($,1,1,()=>{$=null}),he())},i(P){q||(J(N.$$.fragment,P),J($),q=!0)},o(P){G(N.$$.fragment,P),G($),q=!1},d(P){P&&c(t),ue(N),$&&$.d(),Q=!1,fe()}}}function lt(a){let e,t,l;function o(n){a[14](n)}let s={};return a[0]!==void 0&&(s.showModal=a[0]),e=new vt({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,r){const u={};!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function nt(a){let e,t,l;function o(n){a[15](n)}let s={userData:a[2]};return a[0]!==void 0&&(s.showModal=a[0]),e=new St({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,r){const u={};r&4&&(u.userData=n[2]),!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function ot(a){let e,t,l;function o(n){a[16](n)}let s={user:a[2]};return a[0]!==void 0&&(s.showModal=a[0]),e=new yt({props:s}),we.push(()=>Ce(e,"showModal",o)),{c(){ae(e.$$.fragment)},l(n){re(e.$$.fragment,n)},m(n,r){ie(e,n,r),l=!0},p(n,r){const u={};r&4&&(u.user=n[2]),!t&&r&1&&(t=!0,u.showModal=n[0],ke(()=>t=!1)),e.$set(u)},i(n){l||(J(e.$$.fragment,n),l=!0)},o(n){G(e.$$.fragment,n),l=!1},d(n){ue(e,n)}}}function Dt(a){let e,t,l,o,s,n="User Management",r,u,w,A,f,g,T,S,b,_,p;const x=[xt,Rt],d=[];function i(N,O){var K;return((K=N[1])==null?void 0:K.role_name)!=="User"?0:1}u=i(a),w=d[u]=x[u](a);const h=[Ot,Pt],m=[];function B(N,O){return N[3].size===0?0:1}f=B(a),g=m[f]=h[f](a);let U=a[5]&&lt(a),j=a[6]&&nt(a),H=a[4]&&ot(a);return{c(){e=k("main"),t=k("div"),l=k("table"),o=k("caption"),s=k("h1"),s.textContent=n,r=L(),w.c(),A=L(),g.c(),T=L(),U&&U.c(),S=L(),j&&j.c(),b=L(),H&&H.c(),_=se(),this.h()},l(N){e=C(N,"MAIN",{class:!0});var O=I(e);t=C(O,"DIV",{class:!0});var K=I(t);l=C(K,"TABLE",{class:!0});var q=I(l);o=C(q,"CAPTION",{class:!0});var Q=I(o);s=C(Q,"H1",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-lsmgc9"&&(s.textContent=n),r=R(Q),w.l(Q),Q.forEach(c),A=R(q),g.l(q),q.forEach(c),K.forEach(c),O.forEach(c),T=R(N),U&&U.l(N),S=R(N),j&&j.l(N),b=R(N),H&&H.l(N),_=se(),this.h()},h(){v(s,"class","text-2xl"),v(o,"class","p-5 font-semibold text-left text-gray-900 dark:text-white relative"),v(l,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400"),v(t,"class","tablePage relative overflow-x-auto shadow-md sm:rounded-lg"),v(e,"class","page")},m(N,O){E(N,e,O),y(e,t),y(t,l),y(l,o),y(o,s),y(o,r),d[u].m(o,null),y(l,A),m[f].m(l,null),E(N,T,O),U&&U.m(N,O),E(N,S,O),j&&j.m(N,O),E(N,b,O),H&&H.m(N,O),E(N,_,O),p=!0},p(N,[O]){let K=u;u=i(N),u===K?d[u].p(N,O):(pe(),G(d[K],1,1,()=>{d[K]=null}),he(),w=d[u],w?w.p(N,O):(w=d[u]=x[u](N),w.c()),J(w,1),w.m(o,null));let q=f;f=B(N),f===q?m[f].p(N,O):(pe(),G(m[q],1,1,()=>{m[q]=null}),he(),g=m[f],g?g.p(N,O):(g=m[f]=h[f](N),g.c()),J(g,1),g.m(l,null)),N[5]?U?(U.p(N,O),O&32&&J(U,1)):(U=lt(N),U.c(),J(U,1),U.m(S.parentNode,S)):U&&(pe(),G(U,1,1,()=>{U=null}),he()),N[6]?j?(j.p(N,O),O&64&&J(j,1)):(j=nt(N),j.c(),J(j,1),j.m(b.parentNode,b)):j&&(pe(),G(j,1,1,()=>{j=null}),he()),N[4]?H?(H.p(N,O),O&16&&J(H,1)):(H=ot(N),H.c(),J(H,1),H.m(_.parentNode,_)):H&&(pe(),G(H,1,1,()=>{H=null}),he())},i(N){p||(J(w),J(g),J(U),J(j),J(H),p=!0)},o(N){G(w),G(g),G(U),G(j),G(H),p=!1},d(N){N&&(c(e),c(T),c(S),c(b),c(_)),d[u].d(),m[f].d(),U&&U.d(N),j&&j.d(N),H&&H.d(N)}}}function Ut(a,e,t){let l,o,s;be(a,Ee,h=>t(4,l=h)),be(a,ye,h=>t(5,o=h)),be(a,Me,h=>t(6,s=h));const n={};if(typeof sessionStorage<"u"){const h=sessionStorage.getItem("userLoggedIn");if(h!==null)for(const[m,B]of Object.entries(JSON.parse(h)))n[m]=B}rt(async()=>{f().then(h=>{t(3,w=h)})});let r=!1,u,w=new Map,A=["Full name","email","password","Team","Role"];async function f(){try{let h=`${_e}/users`;if((n==null?void 0:n.role_name)==="User")h+=`?user_id=${n.id}`;else if(n.role_name==="Admin")h+=`?team=${n.team_name}`;else if(n.role_name!=="SuperAdmin")throw at("/login"),new Error("Failed to fetch data. User not logged in.");const m=await fetch(h);if(!m.ok)throw new Error(`Failed to fetch data. Status: ${m.status}`);const B=await m.json();return Array.isArray(B)?B.forEach((U,j)=>w.set(j,U)):w.set(0,B),w}catch(h){throw console.error(h),h}}function g(h){t(0,r=!0),ve(Me,s=!0,s),t(2,u=h)}function T(){t(0,r=!0),ve(ye,o=!0,o)}function S(h){t(0,r=!0),ve(Ee,l=!0,l),t(2,u=h)}const b=()=>T(),_=h=>g(h[1]),p=h=>S(h[1]);function x(h){r=h,t(0,r)}function d(h){r=h,t(0,r)}function i(h){r=h,t(0,r)}return a.$$.update=()=>{a.$$.dirty&1&&(r||(ye.set(!1),Me.set(!1),Ee.set(!1),typeof window<"u"&&ct().then(()=>{f().then(h=>{t(3,w=h)})})))},[r,n,u,w,l,o,s,A,g,T,S,b,_,p,x,d,i]}class qt extends Se{constructor(e){super(),Le(this,e,Ut,Dt,Be,{})}}export{qt as component};
